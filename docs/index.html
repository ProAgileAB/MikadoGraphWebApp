<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Title</title></head><body> <button onclick="getFile()">Open File</button> <pre id="editor" contenteditable="true"></pre> <script type="module">var t;async function e(e){let r=await e.getFile(),n=await r.text();const o=(0,t.parse)(n);document.getElementById("editor").innerText=JSON.stringify(o,null,2)}t=function(){function t(e,r,n,o){this.message=e,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.buildMessage=function(t,e){var r,n={literal:function(t){return'"'+a(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?c(t.parts[e][0])+"-"+c(t.parts[e][1]):c(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function o(t){return t.charCodeAt(0).toString(16).toUpperCase()}function a(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+o(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+o(t)}))}function c(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+o(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+o(t)}))}return"Expected "+function(t){var e,r,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],n[o.type](o));if(a.sort(),a.length>0){for(e=1,r=1;e<a.length;e++)a[e-1]!==a[e]&&(a[r]=a[e],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+(((r=e)?'"'+a(r)+'"':"end of input")+" found.")},{SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var n,o={},a={Expression:O},c=O,u="Goal",i=j("Goal",!1),s=" needs ",l=j(" needs ",!1),f="Done: ",p=j("Done: ",!1),h="\n",g=j("\n",!1),d=", ",x=j(", ",!1),A=function(t,e){return e},v=/^[a-zA-Z]/,y=k([["a","z"],["A","Z"]],!1,!1),w=/^[()a-zA-Z ">=.+]/,m=k(["(",")",["a","z"],["A","Z"]," ",'"',">","=",".","+"],!1,!1),F=T("whitespace"),C=/^[ \t\n\r]/,E=k([" ","\t","\n","\r"],!1,!1),b=0,S=[{line:1,column:1}],z=0,R=[],Z=0;if("startRule"in r){if(!(r.startRule in a))throw new Error("Can't start parsing from rule \""+r.startRule+'".');c=a[r.startRule]}function j(t,e){return{type:"literal",text:t,ignoreCase:e}}function k(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function T(t){return{type:"other",description:t}}function D(t){var r,n=S[t];if(n)return n;for(r=t-1;!S[r];)r--;for(n={line:(n=S[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return S[t]=n,n}function G(t,e){var r=D(t),n=D(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function I(t){b<z||(b>z&&(z=b,R=[]),R.push(t))}function M(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function O(){var t,e;if(t=[],(e=B())===o&&(e=J())===o&&(e=N()),e!==o)for(;e!==o;)t.push(e),(e=B())===o&&(e=J())===o&&(e=N());else t=o;return t}function B(){var t,r,n;return t=b,e.substr(b,4)===u?(r=u,b+=4):(r=o,0===Z&&I(i)),r!==o&&(n=U())!==o?(t,t=r={goal:n}):(b=t,t=o),t}function J(){var t,r,n,a,c;return t=b,r=function(){var t,r,n,a,c,u;if(t=b,(r=P())!==o){for(n=[],a=b,e.substr(b,2)===d?(c=d,b+=2):(c=o,0===Z&&I(x)),c!==o&&(u=P())!==o?(a,a=c=A(0,u)):(b=a,a=o);a!==o;)n.push(a),a=b,e.substr(b,2)===d?(c=d,b+=2):(c=o,0===Z&&I(x)),c!==o&&(u=P())!==o?(a,a=c=A(0,u)):(b=a,a=o);n!==o?(t,i=r,(s=n).push(i),t=r=s):(b=t,t=o)}else b=t,t=o;var i,s;return t}(),r!==o?(e.substr(b,7)===s?(n=s,b+=7):(n=o,0===Z&&I(l)),n!==o&&(a=P())!==o&&(c=U())!==o?(t,t=r={steps:r,needs:a,text:c}):(b=t,t=o)):(b=t,t=o),t}function N(){var t,r,n,a,c;if(t=b,e.substr(b,6)===f?(r=f,b+=6):(r=o,0===Z&&I(p)),r!==o)if((n=P())!==o){for(a=[],10===e.charCodeAt(b)?(c=h,b++):(c=o,0===Z&&I(g));c!==o;)a.push(c),10===e.charCodeAt(b)?(c=h,b++):(c=o,0===Z&&I(g));a!==o?(t,t=r={done:n}):(b=t,t=o)}else b=t,t=o;else b=t,t=o;return t}function P(){var t,r,n;if(t=b,r=[],v.test(e.charAt(b))?(n=e.charAt(b),b++):(n=o,0===Z&&I(y)),n!==o)for(;n!==o;)r.push(n),v.test(e.charAt(b))?(n=e.charAt(b),b++):(n=o,0===Z&&I(y));else r=o;return r!==o&&(t,r=r.join("")),t=r}function U(){var t,r,n,a,c;if(t=b,10===e.charCodeAt(b)?(r=h,b++):(r=o,0===Z&&I(g)),r!==o)if(n=function(){var t,r;Z++,t=[],C.test(e.charAt(b))?(r=e.charAt(b),b++):(r=o,0===Z&&I(E));for(;r!==o;)t.push(r),C.test(e.charAt(b))?(r=e.charAt(b),b++):(r=o,0===Z&&I(E));Z--,t===o&&(r=o,0===Z&&I(F));return t}(),n!==o){if(a=[],w.test(e.charAt(b))?(c=e.charAt(b),b++):(c=o,0===Z&&I(m)),c!==o)for(;c!==o;)a.push(c),w.test(e.charAt(b))?(c=e.charAt(b),b++):(c=o,0===Z&&I(m));else a=o;a!==o?(10===e.charCodeAt(b)?(c=h,b++):(c=o,0===Z&&I(g)),c!==o?(t,t=r=a.join("")):(b=t,t=o)):(b=t,t=o)}else b=t,t=o;else b=t,t=o;return t}if((n=c())!==o&&b===e.length)return n;throw n!==o&&b<e.length&&I({type:"end"}),M(R,z<e.length?e.charAt(z):null,z<e.length?G(z,z+1):G(z,z))}}}(),window.getFile=async function(){try{let[t]=await window.showOpenFilePicker();await e(t),setInterval((()=>{e(t).then((()=>console.log("updated")))}),1e3)}catch(t){}};</script> </body></html>